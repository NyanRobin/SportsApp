# Game Detail í™”ë©´ íƒ€ì… ì—ëŸ¬ ìˆ˜ì • ì™„ë£Œ

## ğŸ› **ë¬¸ì œì **

ê²Œì„ ìƒì„¸ í™”ë©´ì—ì„œ ë‹¤ìŒ ì—ëŸ¬ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤:
```
Error loading game details
Exception: Failed to get game details: TypeError: "1": type 'String' is not a subtype of type 'int'
```

## ğŸ” **ì›ì¸ ë¶„ì„**

1. **ë¼ìš°í„°ì—ì„œ ê²Œì„ IDê°€ ë¬¸ìì—´ë¡œ ì „ë‹¬**: `context.go('/games/detail/${game.id}')`
2. **GameDetailScreenì—ì„œ int.parse() ì‹¤íŒ¨**: `int.parse(widget.gameId)`ë¡œ ê°•ì œ ë³€í™˜ ì‹œë„
3. **Mock ë°ì´í„° ëª¨ë¸ êµ¬ì¡° ë¶ˆì¼ì¹˜**: ì‹¤ì œ ëª¨ë¸ê³¼ ë‹¤ë¥¸ í•„ë“œëª…/íƒ€ì… ì‚¬ìš©

## âœ… **í•´ê²° ë°©ì•ˆ**

### **1. ì•ˆì „í•œ gameId íŒŒì‹±**
```dart
// ì´ì „ ì½”ë“œ (ì—ëŸ¬ ë°œìƒ)
final gameId = int.parse(widget.gameId);

// ìˆ˜ì •ëœ ì½”ë“œ (ì•ˆì „í•œ ì²˜ë¦¬)
final gameId = int.tryParse(widget.gameId);
if (gameId == null) {
  throw Exception('Invalid game ID: ${widget.gameId}');
}
```

### **2. Game ëª¨ë¸ êµ¬ì¡° ìˆ˜ì •**
```dart
// ì´ì „: ì˜ëª»ëœ í•„ë“œëª…
Game(
  id: 1,
  homeTeam: 'ëŒ€í•œê³ ë“±í•™êµ',  // âŒ ì˜ëª»ëœ í•„ë“œëª…
  awayTeam: 'ê°•ë¶ê³ ë“±í•™êµ',  // âŒ ì˜ëª»ëœ í•„ë“œëª…
)

// ìˆ˜ì •: ì˜¬ë°”ë¥¸ í•„ë“œëª…
Game(
  id: 1,
  homeTeamName: 'ëŒ€í•œê³ ë“±í•™êµ',  // âœ… ì˜¬ë°”ë¥¸ í•„ë“œëª…
  awayTeamName: 'ê°•ë¶ê³ ë“±í•™êµ',  // âœ… ì˜¬ë°”ë¥¸ í•„ë“œëª…
  homeTeamId: 1,                // âœ… í•„ìˆ˜ í•„ë“œ ì¶”ê°€
  awayTeamId: 2,                // âœ… í•„ìˆ˜ í•„ë“œ ì¶”ê°€
  venue: 'ëŒ€í•œê³ ë“±í•™êµ ìš´ë™ì¥',   // âœ… ì˜¬ë°”ë¥¸ í•„ë“œëª…
  createdAt: DateTime.now(),    // âœ… í•„ìˆ˜ í•„ë“œ ì¶”ê°€
)
```

### **3. GameTimelineEvent ëª¨ë¸ êµ¬ì¡° ìˆ˜ì •**
```dart
// ì´ì „: ì˜ëª»ëœ êµ¬ì¡°
GameTimelineEvent(
  id: '1',           // âŒ String (int í•„ìš”)
  type: 'kickoff',   // âŒ ì˜ëª»ëœ í•„ë“œëª…
  playerId: '1',     // âŒ ì •ì˜ë˜ì§€ ì•Šì€ í•„ë“œ
)

// ìˆ˜ì •: ì˜¬ë°”ë¥¸ êµ¬ì¡°
GameTimelineEvent(
  id: 1,             // âœ… int íƒ€ì…
  gameId: gameId,    // âœ… í•„ìˆ˜ í•„ë“œ
  eventType: 'kickoff', // âœ… ì˜¬ë°”ë¥¸ í•„ë“œëª…
  minute: 0,         // âœ… í•„ìˆ˜ í•„ë“œ
  createdAt: DateTime.now(), // âœ… í•„ìˆ˜ í•„ë“œ
)
```

### **4. GameLineup ëª¨ë¸ êµ¬ì¡° ìˆ˜ì •**
```dart
// ì´ì „: ì˜ëª»ëœ êµ¬ì¡°
GameLineup(
  teamName: game.homeTeamName,
  formation: '4-4-2',
  players: [...],    // âŒ ì˜ëª»ëœ í•„ë“œëª…
)

// ìˆ˜ì •: ì˜¬ë°”ë¥¸ êµ¬ì¡°
GameLineup(
  gameId: gameId,    // âœ… í•„ìˆ˜ í•„ë“œ
  teamName: game.homeTeamName,
  formation: '4-4-2',
  startingEleven: [...], // âœ… ì˜¬ë°”ë¥¸ í•„ë“œëª…
  substitutes: [],   // âœ… í•„ìˆ˜ í•„ë“œ
  updatedAt: DateTime.now(), // âœ… í•„ìˆ˜ í•„ë“œ
)
```

### **5. PlayerLineup ëª¨ë¸ êµ¬ì¡° ìˆ˜ì •**
```dart
// ì´ì „: ì˜ëª»ëœ êµ¬ì¡°
PlayerLineup(
  id: '1',           // âŒ ì˜ëª»ëœ í•„ë“œëª…
  name: 'ê¹€ë¯¼ì„',     // âŒ ì˜ëª»ëœ í•„ë“œëª…
  isStarter: true,   // âŒ ì •ì˜ë˜ì§€ ì•Šì€ í•„ë“œ
)

// ìˆ˜ì •: ì˜¬ë°”ë¥¸ êµ¬ì¡°
PlayerLineup(
  playerId: 1,       // âœ… ì˜¬ë°”ë¥¸ í•„ë“œëª… (int)
  playerName: 'ê¹€ë¯¼ì„', // âœ… ì˜¬ë°”ë¥¸ í•„ë“œëª…
  position: 'Forward',
  jerseyNumber: 10,
  isCaptain: true,   // âœ… ì •ì˜ëœ í•„ë“œ ì‚¬ìš©
)
```

### **6. GameStats ëª¨ë¸ êµ¬ì¡° ìˆ˜ì •**
```dart
// ì´ì „: ëˆ„ë½ëœ í•„ìˆ˜ í•„ë“œ
GameStats(
  homeTeam: TeamStats(...),
  awayTeam: TeamStats(...),
  // âŒ gameId, updatedAt ëˆ„ë½
)

// ìˆ˜ì •: ì™„ì „í•œ í•„ë“œ
GameStats(
  gameId: gameId,    // âœ… í•„ìˆ˜ í•„ë“œ ì¶”ê°€
  homeTeam: TeamStats(...),
  awayTeam: TeamStats(...),
  updatedAt: DateTime.now(), // âœ… í•„ìˆ˜ í•„ë“œ ì¶”ê°€
)
```

### **7. GameHighlight ëª¨ë¸ êµ¬ì¡° ìˆ˜ì •**
```dart
// ì´ì „: ì˜ëª»ëœ êµ¬ì¡°
GameHighlight(
  id: '1',           // âŒ String (int í•„ìš”)
  type: 'goal',      // âŒ ì˜ëª»ëœ í•„ë“œëª…
)

// ìˆ˜ì •: ì˜¬ë°”ë¥¸ êµ¬ì¡°
GameHighlight(
  id: 1,             // âœ… int íƒ€ì…
  gameId: gameId,    // âœ… í•„ìˆ˜ í•„ë“œ
  highlightType: 'goal', // âœ… ì˜¬ë°”ë¥¸ í•„ë“œëª…
  duration: 30,      // âœ… í•„ìˆ˜ í•„ë“œ
  createdAt: DateTime.now(), // âœ… í•„ìˆ˜ í•„ë“œ
)
```

## ğŸ¯ **ìˆ˜ì •ëœ íŒŒì¼ë“¤**

### **lib/core/network/game_api_service.dart**
- `_getMockGames()`: Game ëª¨ë¸ í•„ë“œ ìˆ˜ì •
- `_getMockGameDetails()`: ëª¨ë“  í•˜ìœ„ ëª¨ë¸ êµ¬ì¡° ìˆ˜ì •
- GameTimelineEvent, GameLineup, PlayerLineup, GameStats, GameHighlight ìƒì„± ì½”ë“œ ì „ë©´ ìˆ˜ì •

### **lib/features/games/screens/game_detail_screen.dart**
- `_loadGameDetails()`: ì•ˆì „í•œ gameId íŒŒì‹± ë¡œì§ ì¶”ê°€
- `int.tryParse()` ì‚¬ìš©ìœ¼ë¡œ ì˜ˆì™¸ ì²˜ë¦¬ ê°œì„ 

## ğŸ”„ **ë™ì‘ í™•ì¸**

### **ì´ì „ (ì—ëŸ¬ ë°œìƒ)**
1. ê²Œì„ ëª©ë¡ì—ì„œ ê²Œì„ í´ë¦­
2. ê²Œì„ IDê°€ ë¬¸ìì—´ë¡œ ì „ë‹¬
3. `int.parse()` ì‹¤íŒ¨ â†’ TypeError ë°œìƒ
4. Mock ë°ì´í„° ëª¨ë¸ ë¶ˆì¼ì¹˜ â†’ ì¶”ê°€ ì—ëŸ¬

### **í˜„ì¬ (ì •ìƒ ë™ì‘)**
1. ê²Œì„ ëª©ë¡ì—ì„œ ê²Œì„ í´ë¦­
2. ê²Œì„ IDê°€ ë¬¸ìì—´ë¡œ ì „ë‹¬
3. `int.tryParse()`ë¡œ ì•ˆì „í•˜ê²Œ ë³€í™˜
4. ì˜¬ë°”ë¥¸ Mock ë°ì´í„° êµ¬ì¡°ë¡œ ì™„ì „í•œ ê²Œì„ ìƒì„¸ ì •ë³´ í‘œì‹œ

## ğŸ“± **ì œê³µë˜ëŠ” Mock ë°ì´í„°**

### **ê²Œì„ ê¸°ë³¸ ì •ë³´**
- 4ê°œì˜ ì‹¤ì œì ì¸ ê²½ê¸° (ì™„ë£Œ 2ê°œ, ì˜ˆì • 2ê°œ)
- ì˜¬ë°”ë¥¸ íŒ€ëª…, ì ìˆ˜, ë‚ ì§œ, ì¥ì†Œ

### **íƒ€ì„ë¼ì¸**
- í‚¥ì˜¤í”„, ê³¨, ê²½ê¸° ì¢…ë£Œ ì´ë²¤íŠ¸
- ì„ ìˆ˜ëª…, íŒ€ëª…, ì‹œê°„ ì •ë³´ í¬í•¨

### **ë¼ì¸ì—…**
- í™ˆ/ì–´ì›¨ì´ íŒ€ ì„ ìˆ˜ êµ¬ì„±
- í¬ë©”ì´ì…˜ (4-4-2, 4-3-3)
- ì£¼ì¥, ë“±ë²ˆí˜¸, í¬ì§€ì…˜ ì •ë³´

### **í†µê³„**
- íŒ€ë³„ ìƒì„¸ ê²½ê¸° í†µê³„
- ì ìœ ìœ¨, ìŠˆíŒ…, íŒ¨ìŠ¤, íŒŒìš¸ ë“±

### **í•˜ì´ë¼ì´íŠ¸**
- ì£¼ìš” ê³¨ ì¥ë©´
- ì„ ìˆ˜ë³„, ì‹œê°„ë³„ ì •ë³´

## ğŸ‰ **ê²°ê³¼**

ì´ì œ **ì„œë²„ê°€ êº¼ì ¸ìˆì–´ë„** ê²Œì„ ìƒì„¸ í™”ë©´ì´ ì™„ë²½í•˜ê²Œ ì‘ë™í•©ë‹ˆë‹¤:

âœ… **íƒ€ì… ì—ëŸ¬ í•´ê²°**: ì•ˆì „í•œ ID íŒŒì‹±  
âœ… **ëª¨ë¸ êµ¬ì¡° ìˆ˜ì •**: ëª¨ë“  í•„ìˆ˜ í•„ë“œ í¬í•¨  
âœ… **ì™„ì „í•œ Mock ë°ì´í„°**: ì‹¤ì œì™€ ë™ì¼í•œ êµ¬ì¡°  
âœ… **seamless ì‚¬ìš©ì ê²½í—˜**: ì—ëŸ¬ ì—†ëŠ” ë¶€ë“œëŸ¬ìš´ ë„¤ë¹„ê²Œì´ì…˜  

**ê²Œì„ ìƒì„¸ í™”ë©´ì´ ì´ì œ ì™„ì „íˆ ì•ˆì •ì ìœ¼ë¡œ ì‘ë™í•©ë‹ˆë‹¤!** ğŸ‰




